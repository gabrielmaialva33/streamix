"use strict";(self.webpackChunkAVPlayer=self.webpackChunkAVPlayer||[]).push([[964],{6072:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(19371);class r{constructor(){(0,i.A)(this,"type",-1),(0,i.A)(this,"onStreamAdd",void 0)}async destroy(e){}}},21358:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var i=a(19371),r=a(75354),s=a(42524),n=a(77389),o=a(6072),c=a(27758),d=a(76919),h=a(41863),f=a(47378),p=a(31184),u=a(1818),l=a(74933),A=a(87339);const g="packages/avformat/src/formats/IWavFormat.ts";class w extends o.A{constructor(){super(),(0,i.A)(this,"type",16),(0,i.A)(this,"dataSize",void 0),(0,i.A)(this,"sampleCount",void 0),(0,i.A)(this,"pcmStartPos",void 0),(0,i.A)(this,"currentPts",void 0)}init(e){e.ioReader.setEndian(!1)}async readHeader(e){const t=await e.ioReader.readString(4);switch(t){case"RIFF":case"RF64":case"BW64":break;case"RIFX":e.ioReader.setEndian(!0);break;default:return A.z3("the file format is not wav",g,89),f.LR}await e.ioReader.skip(4);const a=await e.ioReader.readString(4);if("WAVE"!==a)return A.z3(`invalid start code ${a} in RIFF header`,g,99),f.LR;if("RF64"===t||"BW64"===t){if("ds64"!==await e.ioReader.readString(4))return f.LR;const t=await e.ioReader.readUint32();if(t<24)return f.LR;if(await e.ioReader.skip(8),this.dataSize=await e.ioReader.readUint64(),this.sampleCount=await e.ioReader.readUint64(),this.dataSize<0||this.sampleCount<0)return A.z3("negative data_size and/or sample_count in ds64",g,119),f.LR;await e.ioReader.skip(t-24)}const i=e.createStream(),s=await e.ioReader.fileSize();for(;e.ioReader.getPos()<s;){const t=await e.ioReader.readString(4),a=await e.ioReader.readUint32();if("fmt "===t){let t=await(0,c.yr)(e.ioReader,i.codecpar[r.o9],a);if(t<0)return t}else if("data"===t){if(this.pcmStartPos=e.ioReader.getPos(),this.dataSize||(this.dataSize=BigInt(Math.floor(a))),this.pcmStartPos+this.dataSize===s)break;await e.ioReader.seek(this.pcmStartPos+this.dataSize)}else if("ID3 "===t||"id3 "===t){await e.ioReader.skip(3);const t={version:0,revision:0,flags:0};t.version=await e.ioReader.readUint8(),t.revision=await e.ioReader.readUint8(),t.flags=await e.ioReader.readUint8();const i=(127&await e.ioReader.readUint8())<<21|(127&await e.ioReader.readUint8())<<14|(127&await e.ioReader.readUint8())<<7|127&await e.ioReader.readUint8();e.ioReader.setEndian(!0),await d.qg(e.ioReader,i,t,e.metadata),e.metadata.apic&&(d.hm(e,e.metadata.apic,t),delete e.metadata.apic),e.ioReader.setEndian(!1),i+10<a&&await e.ioReader.skip(a-10-i)}else{if(e.ioReader.getPos()+BigInt(Math.floor(a))===s)break;await e.ioReader.seek(e.ioReader.getPos()+BigInt(Math.floor(a)))}}return this.sampleCount||(this.sampleCount=(this.dataSize<<BigInt(3))/BigInt(i.codecpar.chLayout.nbChannels*l.MZ(i.codecpar.codecId))),i.timeBase.den=i.codecpar.sampleRate,i.timeBase.num=1,this.sampleCount&&(i.duration=this.sampleCount),this.currentPts=BigInt(0),await e.ioReader.seek(this.pcmStartPos),0}async readAVPacket(e,t){if(e.ioReader.getPos()>=this.pcmStartPos+this.dataSize)return-1048576;const a=e.streams.find((e=>e.codecpar.codecType=1));try{let i=1024*a.codecpar.chLayout.nbChannels*l.MZ(a.codecpar.codecId)>>>3;const r=this.pcmStartPos+this.dataSize-e.ioReader.getPos();i>r&&(i=Number(r));const o=(0,p.sY)(i);(0,u.NX)(t,o,i),n.M[17](t+16,this.currentPts),n.M[17](t+8,this.currentPts),n.M[17](t+56,e.ioReader.getPos()),await e.ioReader.readBuffer(i,(0,h.JW)(o,i)),n.M[15](t+32,a.index),n.M[15](t+76,a.timeBase.den),n.M[15](t+72,a.timeBase.num);const c=(i<<3)/a.codecpar.chLayout.nbChannels/l.MZ(a.codecpar.codecId)>>>0;return n.M[17](t+48,BigInt(c)),this.currentPts+=s.f[17](t+48),0}catch(t){return-1048576!==e.ioReader.error&&-1048572!==e.ioReader.error?(A.z3(`read packet error, ${t}`,g,250),f.LR):e.ioReader.error}}async seek(e,t,a,i){const r=e.ioReader.getPos();if(2&i){const s=await e.ioReader.fileSize();return s<=BigInt(0)?BigInt(f.E$):(a<BigInt(0)?a=BigInt(0):a>s&&(a=s),await e.ioReader.seek(a),4&i||(this.currentPts=(a-this.pcmStartPos<<BigInt(3))/BigInt(t.codecpar.chLayout.nbChannels*l.MZ(t.codecpar.codecId))),r)}{const i=this.pcmStartPos+(a*BigInt(t.codecpar.chLayout.nbChannels*l.MZ(t.codecpar.codecId))>>BigInt(3));return await e.ioReader.seek(i),this.currentPts=a,r}}getAnalyzeStreamsCount(){return 1}}},76919:(e,t,a)=>{a.d(t,{In:()=>u,fz:()=>l,hm:()=>I,qg:()=>m});var i=a(42524),r=a(77389),s=a(41863),n=a(1818),o=a(31184),c=a(87339),d=a(4068),h=a(17630),f=a(54570);const p="packages/avformat/src/formats/mp3/id3v2.ts",u={JPG:7,PNG:61,"image/gif":97,"image/jpeg":7,"image/jpg":7,"image/png":61,"image/tiff":96,"image/bmp":78,"image/webp":171},l=["Other","32x32 pixels 'file icon'","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];function A(e,t){let a="utf-8";return 0===e?a="iso-8859-1":1===e?a="utf-16":2===e&&(a="utf-16be"),new TextDecoder(a).decode(t)}function g(e){return(127&e)+((32512&e)>>1)+((8323072&e)>>2)+((2130706432&e)>>3)}async function w(e,t){await e.seek(t);const a=await e.readString(4);return/^[A-Z0-9]+$/.test(a)}async function m(e,t,a,i){const r=2!==a.version,s=r?10:6;let n=e.getPos()+BigInt(0|t);async function o(){await e.skip(Number(BigInt.asIntN(32,n-e.getPos())))}if(r&&64&a.flags){let i=await async function(e,t){let a=0;for(;t--;)a=(a<<7)+(127&await e.readUint8());return a}(e,4);if(4===a.version&&(i-=4),i<0)return c.z3("invalid extended header length",p,149),await o();if(await e.skip(i),(t-=i+4)<0)return c.z3("extended header too long",p,155),await o()}for(;t>s;){let n,o;if(r){if(n=await e.readString(4),o=await e.readUint32(),!o){c.z3("invalid frame size",p,168);break}if(4===a.version&&o>127)if(o<t){await e.flush();const t=e.getPos();if(!(1&e.flags||6+o<e.remainingLength()))break;if(await w(e,t+BigInt(2)+BigInt(g(o))))o=g(o);else if(!await w(e,t+BigInt(2)+BigInt(o)))break;await e.seek(t)}else o=g(o);await e.readUint16()}else n=await e.readString(3),o=await e.readUint24();if("APIC"===n)i.apic||(i.apic=[]),i.apic.push(await e.readBuffer(o));else if("USLT"===n){const t=await e.readUint8(),a=await e.readString(3),r=await e.readBuffer(o-4);i.lyrics=`${a} ${A(t,r)}`}else if("COMM"===n||"COM"===n){const t=await e.readUint8(),a=await e.readString(3),r=await e.readBuffer(o-4);i.comment=`${a} ${A(t,r)}`}else if("PRIV"===n){const t=e.getPos(),a=[];for(;;){const t=await e.readUint8();if(0===t)break;a.push(t)}const r=d.decode(new Uint8Array(a));let s;s="com.apple.streaming.transportStreamTimestamp"===r?await e.readUint64():await e.readBuffer(o-Number(e.getPos()-t)),i[r]=s}else{let t;switch(t="T"===n[0]?A(await e.readUint8(),await e.readBuffer(o-1)):await e.readBuffer(o),n){case"TIT2":case"TT2":i.title=t;break;case"TPE1":case"TP1":i.artist=t;break;case"TPE2":case"TP2":i.albumArtist=t;break;case"TPOS":i.disc=t;break;case"TCOP":i.copyright=t;break;case"TALB":case"TAL":i.album=t;break;case"TRCK":case"TRK":i.track=t;break;case"TYER":case"TDRL":case"TDRC":i.date=t;break;case"COMM":case"COM":i.comment=t;break;case"TCON":case"TCO":i.genre=t;break;case"TSSE":case"TEN":i.encoder=t;break;case"TCOM":i.composer=t;break;case"TENC":i.vendor=t;break;case"TLAN":i.language=t;break;case"TPE3":case"TP3":i.performer=t;break;case"TPUB":i.publisher=t;break;case"TCMP":case"TCP":i.compilation=t;break;case"TDEN":i.creationTime=t;break;case"TSOA":i.albumSort=t;break;case"TSOP":i.artistSort=t;break;case"TSOT":i.titleSort=t;break;case"TIT1":i.grouping=t;break;default:i[n]=t}}t-=o+s}4==a.version&&16&a.flags&&(n+=BigInt(10)),await e.skip(Number(BigInt.asIntN(32,n-e.getPos())))}function I(e,t,a){const c=2!==a.version;t.forEach((t=>{const a=new f.A(t),d=a.readUint8();let p;function g(){let e=Number(a.getPos());for(;e<t.length&&t[e];)e++;return e}if(c?(p=a.readString(g()-Number(a.getPos())),a.skip(1)):p=a.readString(3),!u[p])return;const w=a.readUint8();let m;const I=g()-Number(a.getPos());I&&(m=A(d,a.readBuffer(I))),a.skip(1);const M=e.createStream();M.codecpar.codecId=u[p],M.codecpar.codecType=0,M.disposition|=1024,M.attachedPic=(0,n._5)(),r.M[15](M.attachedPic+32,M.index);const b=a.remainingSize(),P=(0,o.sY)(b),B=a.readBuffer(b);(0,s.lW)(P,b,B),B.length>=8&&h.FB(B.subarray(0,8),new Uint8Array([137,80,78,71,13,10,26,10]))&&(M.codecpar.codecId=61),(0,n.NX)(M.attachedPic,P,b),r.M[15](M.attachedPic+36,1|i.f[15](M.attachedPic+36)),M.metadata.comment=l[w],m&&(M.metadata.title=m)}))}},27758:(e,t,a)=>{a.d(t,{LV:()=>w,ML:()=>I,nF:()=>m,yr:()=>g});var i=a(75354),r=a(42524),s=a(77389),n=a(62667),o=a(41863),c=a(87339),d=a(74933),h=a(21962),f=a(47378),p=a(31184),u=a(43776);const l="packages/avformat/src/formats/riff/iriff.ts";function A(e,t){let a=n.gi[e];return a?(65541===a?a=d.uU(t,!1,!1,-2):65557===a&&(a=d.uU(t,!0,!1,0)),69633===a&&8===t&&(a=69676),a):0}async function g(e,t,a){if(a<14)return c.z3("wav format size < 14",l,51),f.LR;s.M[15](t,1);const i=await e.readUint16();let n=await e.readUint16();const d=await e.readUint32();let h=8*await e.readUint32();const g=await e.readUint16();if(s.M[15](t+136,d),s.M[15](t+140,g),14===a?s.M[15](t+40,8):s.M[15](t+40,await e.readUint16()),65534===i?s.M[8](t+8,0):(s.M[8](t+8,i),s.M[15](t+4,A(i,r.f[15](t+40)))),a>=18&&357!==i){let n=await e.readUint16();a-=18,n=Math.min(a,n),n>=22&&65534===i&&(await e.skip(22),n-=22,a-=22),n>0&&(s.M[20](t+12,(0,p.sY)(n)),s.M[15](t+16,n),await e.readBuffer(n,(0,o.JW)(r.f[20](t+12),n)),a-=n),a>0&&await e.skip(a)}else if(357===i&&a>=32){a-=4,s.M[20](t+12,(0,p.sY)(a)),s.M[15](t+16,a),await e.readBuffer(a,(0,o.JW)(r.f[20](t+12),a));const i=u.E3(r.f[20](t+12)+4);if(s.M[15](t+136,u.Y0(r.f[20](t+12)+12)),n=0,h=0,a<8+20*i)return f.LR;for(let e=0;e<i;e++)n+=r.f[2](r.f[20](t+12)+(8+20*e+17))}return s.M[17](t+32,BigInt(h)),r.f[15](t+136)<0?(c.z3(`Invalid sample rate: ${r.f[15](t+136)}`,l,131),f.LR):(86065===r.f[15](t+4)&&(n=0,s.M[15](t+136,0)),69643==r.f[15](t+4)&&r.f[15](t+136)&&s.M[15](t+40,Number(BigInt.asIntN(32,r.f[17](t+32)))/r.f[15](t+136)),n!=r.f[15](t+116)&&(s.M[15](t+112,0),s.M[15](t+116,n)),0)}async function w(e,t,a){const i=e.getPos()+t;for(;e.getPos()<i;){const t=await e.readString(4),i=await e.readUint32(),r=await e.readString(i);a[t]=r,i%2&&await e.skip(1)}}async function m(e,t){const a=await e.readUint32();return t.codecpar.width=await e.readUint32(),t.codecpar.height=await e.readUint32(),await e.skip(2),t.codecpar.bitsPerCodedSample=await e.readUint16(),t.codecpar.codecTag=await e.readUint32(),await e.skip(20),a}async function I(e,t,a){if(a<14)return c.z3("wav header size < 14",l,199),f.LR;let s,d,g;if(h.bl(t.codecpar[i.o9]+112),s=await e.readUint16(),(357!==s||e.isBigEndian())&&(d=await e.readUint16(),t.codecpar.sampleRate=await e.readUint32(),g=8*await e.readUint32(),t.codecpar.blockAlign=await e.readUint16()),t.codecpar.bitsPerCodedSample=14===a?8:await e.readUint16(),65534===s?t.codecpar.codecTag=0:(t.codecpar.codecTag=s,t.codecpar.codecId=A(s,t.codecpar.bitsPerCodedSample)),a>=18&&357!=s){let r=await e.readUint16();if(e.isBigEndian())return c.z3("WAVEFORMATEX support for RIFX files",l,231),f.LR;a-=18,r=Math.min(r,a),r>=22&&65534==s&&(await async function(e,t){const a=await e.readUint16();a&&(t.codecpar.bitsPerCodedSample=a);const r=await e.readUint32();h.ML(t.codecpar[i.o9]+112,BigInt(r));const s=(await e.readHex(16)).toLocaleUpperCase();var o;s.slice(4)===n.IC||s.slice(4)===n.mO||s.slice(4)===n.dd?(t.codecpar.codecTag=await e.readUint32(),t.codecpar.codecId=A(t.codecpar.codecTag,t.codecpar.bitsPerCodedSample)):(t.codecpar.codecId=(o=s,n.t6[o.toLocaleUpperCase()]||0),t.codecpar.codecId||c.R8(`unknown subformat: ${s}`,l,192))}(e,t),r-=22,a-=22),r>0&&(t.codecpar.extradata&&(0,p.Eb)(t.codecpar.extradata),t.codecpar.extradataSize=r,t.codecpar.extradata=(0,p.sY)(r),await e.readBuffer(r,(0,o.JW)(t.codecpar.extradata,r)),a-=r),a>0&&await e.skip(a)}else if(357==s&&a>=32){a-=4,t.codecpar.extradata&&(0,p.Eb)(t.codecpar.extradata),t.codecpar.extradataSize=a,t.codecpar.extradata=(0,p.sY)(a),await e.readBuffer(a,(0,o.JW)(t.codecpar.extradata,a));const i=u.E3(t.codecpar.extradata+4);if(t.codecpar.sampleRate=u.Y0(t.codecpar.extradata+12),a<8+20*i)return f.LR;for(let e=0;e<i;e++)d+=r.f[2](t.codecpar.extradata+(8+20*e+17))}return t.codecpar.bitrate=BigInt(0|g),t.codecpar.sampleRate<0?(c.z3(`Invalid sample rate ${t.codecpar.sampleRate}`,l,274),f.LR):(86065===t.codecpar.codecId&&(d=0,t.codecpar.sampleRate=0),69643===t.codecpar.codecId&&t.codecpar.sampleRate&&(t.codecpar.bitsPerCodedSample=Number(t.codecpar.bitrate)/t.codecpar.sampleRate),d!==t.codecpar.chLayout.nbChannels&&(h.bl(t.codecpar[i.o9]+112),t.codecpar.chLayout.order=0,t.codecpar.chLayout.nbChannels=d),0)}},62667:(e,t,a)=>{a.d(t,{IC:()=>o,dd:()=>n,gi:()=>r,mO:()=>c,nz:()=>s,t6:()=>d});var i=a(65283);const r={1:65541,2:69638,3:65557,6:65543,7:65542,10:86052,16:69664,17:69633,23:69664,32:69646,34:86037,49:86046,50:86046,56:73728,66:86068,69:69643,20:69643,64:69643,80:86016,85:86017,87:73728,88:73729,97:69635,98:69634,100:69643,105:69633,117:86079,131:86069,255:86018,273:86068,304:86057,309:86106,352:86023,353:86024,354:86053,355:86054,357:86095,358:86096,384:86116,512:69644,533:86022,534:86022,624:86047,654:86111,655:69660,848:86114,1025:86043,1026:86074,1280:86081,1281:86081,5376:86046,5377:86037,5632:86018,5634:86065,8192:86019,8193:86020,8264:86085,8738:86069,27765:65542,28781:86018,16707:86018,16768:86116,22858:81922,29338:86069,33152:86116,41216:86068,41222:86018,41225:86051,61868:86028,65534:86112,21318:69645,22127:86021},s={[(0,i.A)("H261")]:3,[(0,i.A)("H263")]:4,[(0,i.A)("X263")]:4,[(0,i.A)("T263")]:4,[(0,i.A)("L263")]:4,[(0,i.A)("VX1K")]:4,[(0,i.A)("ZyGo")]:4,[(0,i.A)("M263")]:4,[(0,i.A)("lsvm")]:4,[(0,i.A)("I263")]:20,[(0,i.A)("U263")]:4,[(0,i.A)("VSM4")]:4,[(0,i.A)("H264")]:27,[(0,i.A)("h264")]:27,[(0,i.A)("X264")]:27,[(0,i.A)("x264")]:27,[(0,i.A)("avc1")]:27,[(0,i.A)("DAVC")]:27,[(0,i.A)("SMV2")]:27,[(0,i.A)("VSSH")]:27,[(0,i.A)("Q264")]:27,[(0,i.A)("V264")]:27,[(0,i.A)("GAVC")]:27,[(0,i.A)("UMSV")]:27,[(0,i.A)("tshd")]:27,[(0,i.A)("INMC")]:27,[(0,i.A)("FMP4")]:12,[(0,i.A)("DIVX")]:12,[(0,i.A)("DX50")]:12,[(0,i.A)("XVID")]:12,[(0,i.A)("MP4S")]:12,[(0,i.A)("M4S2")]:12,[(0,i.A)("DIVX")]:12,4:12,[(0,i.A)("ZMP4")]:12,[(0,i.A)("DIV1")]:12,[(0,i.A)("BLZ0")]:12,[(0,i.A)("mp4v")]:12,[(0,i.A)("UMP4")]:12,[(0,i.A)("WV1F")]:12,[(0,i.A)("SEDG")]:12,[(0,i.A)("RMP4")]:12,[(0,i.A)("3IV2")]:12,[(0,i.A)("WAWV")]:12,[(0,i.A)("FFDS")]:12,[(0,i.A)("FVFW")]:12,[(0,i.A)("DCOD")]:12,[(0,i.A)("MVXM")]:12,[(0,i.A)("PM4V")]:12,[(0,i.A)("SMP4")]:12,[(0,i.A)("DXGM")]:12,[(0,i.A)("VIDM")]:12,[(0,i.A)("M4T3")]:12,[(0,i.A)("GEOX")]:12,[(0,i.A)("G264")]:12,[(0,i.A)("HDX4")]:12,[(0,i.A)("DM4V")]:12,[(0,i.A)("DMK2")]:12,[(0,i.A)("DYM4")]:12,[(0,i.A)("DIGI")]:12,[(0,i.A)("EPHV")]:12,[(0,i.A)("EM4A")]:12,[(0,i.A)("M4CC")]:12,[(0,i.A)("SN40")]:12,[(0,i.A)("VSPX")]:12,[(0,i.A)("ULDX")]:12,[(0,i.A)("GEOV")]:12,[(0,i.A)("SIPP")]:12,[(0,i.A)("SM4V")]:12,[(0,i.A)("XVIX")]:12,[(0,i.A)("DreX")]:12,[(0,i.A)("QMP4")]:12,[(0,i.A)("PLV1")]:12,[(0,i.A)("GLV4")]:12,[(0,i.A)("GMP4")]:12,[(0,i.A)("MNM4")]:12,[(0,i.A)("GTM4")]:12,[(0,i.A)("MPG4")]:14,[(0,i.A)("MP41")]:14,[(0,i.A)("MP42")]:15,[(0,i.A)("DIV2")]:15,[(0,i.A)("MP43")]:16,[(0,i.A)("DIV3")]:16,[(0,i.A)("MPG3")]:16,[(0,i.A)("DIV5")]:16,[(0,i.A)("DIV6")]:16,[(0,i.A)("DIV4")]:16,[(0,i.A)("DVX3")]:16,[(0,i.A)("AP41")]:16,[(0,i.A)("COL1")]:16,[(0,i.A)("COL0")]:16,[(0,i.A)("WMV1")]:17,[(0,i.A)("WMV2")]:18,[(0,i.A)("GXVE")]:18,[(0,i.A)("dvsd")]:24,[(0,i.A)("dvhd")]:24,[(0,i.A)("dvh1")]:24,[(0,i.A)("dvsl")]:24,[(0,i.A)("dv25")]:24,[(0,i.A)("dv50")]:24,[(0,i.A)("cdvc")]:24,[(0,i.A)("CDVH")]:24,[(0,i.A)("CDV5")]:24,[(0,i.A)("dvc ")]:24,[(0,i.A)("dvcs")]:24,[(0,i.A)("dvh1")]:24,[(0,i.A)("dvis")]:24,[(0,i.A)("pdvc")]:24,[(0,i.A)("SL25")]:24,[(0,i.A)("SLDV")]:24,[(0,i.A)("AVd1")]:24,[(0,i.A)("mpg1")]:2,[(0,i.A)("mpg2")]:2,[(0,i.A)("MPEG")]:2,[(0,i.A)("PIM1")]:2,[(0,i.A)("PIM2")]:2,[(0,i.A)("VCR2")]:2,268435457:2,268435458:2,268435460:2,[(0,i.A)("DVR ")]:2,[(0,i.A)("MMES")]:2,[(0,i.A)("LMP2")]:2,[(0,i.A)("slif")]:2,[(0,i.A)("EM2V")]:2,[(0,i.A)("M701")]:2,[(0,i.A)("M702")]:2,[(0,i.A)("M703")]:2,[(0,i.A)("M704")]:2,[(0,i.A)("M705")]:2,[(0,i.A)("mpgv")]:2,[(0,i.A)("BW10")]:2,[(0,i.A)("XMPG")]:2,[(0,i.A)("MJPG")]:7,[(0,i.A)("RV40")]:69,[(0,i.A)("AV01")]:225,[(0,i.A)("VP80")]:139,[(0,i.A)("VP90")]:167,[(0,i.A)("HEVC")]:173,[(0,i.A)("H265")]:173},n="00001000800000AA00389B71",o="2107D3118644C8C1CA000000",c="0000000000001000800000AA",d={"2C806DE046DBCF11B4D100805F6CBBEA":86019,BFAA23E958CB7144A119FFFA01E4CE62:86055,D242E147BA368D4D88FC61654F8C836C:86104,AF87FBA7022DFB42A4D405CD93843BDD:86056,"2B806DE046DBCF11B4D100805F6CBBEA":86016,"82EC1F6ACADB1945BDE756D3B3EF981D":69673,"3AC1FA38811D4361A40DCE53CA607CD1":86112}},65283:(e,t,a)=>{a.d(t,{A:()=>s});var i=a(87339);const r="packages/avformat/src/function/mktagle.ts";function s(e){4!==e.length&&i.R8(`tag length is not 4, tag: ${e}`,r,30);let t=0;for(let a=3;a>=0;a--)t=t<<8|e.charCodeAt(a);return t}},74933:(e,t,a)=>{function i(e,t,a,i){if(e<=0||e>64)return 0;if(t)switch(e){case 32:return a?65556:65557;case 64:return a?65558:65559;default:return 0}else if(e+=7,i&1<<(e>>>=3)-1)switch(e){case 1:return 65540;case 2:return a?65537:65536;case 3:return a?65549:65548;case 4:return a?65545:65544;case 8:return a?65568:65567;default:return 0}else switch(e){case 1:return 65541;case 2:return a?65539:65538;case 3:return a?65551:65550;case 4:return a?65547:65546;default:return 0}}function r(e){switch(e){case 69649:return 2;case 69648:return 3;case 69647:case 69633:case 69632:case 69645:case 69638:return 4;default:return function(e){switch(e){case 86070:case 86071:case 69674:case 69644:case 69678:case 69651:case 69661:case 69677:case 69655:case 69664:case 69636:case 69675:case 69660:case 69646:case 69670:return 4;case 86089:case 86090:case 86091:case 86092:case 65543:case 65542:case 65571:case 65540:case 65563:case 65572:case 65541:case 81924:case 81926:return 8;case 65537:case 65566:case 65536:case 65554:case 65539:case 65538:return 16;case 65552:case 65549:case 65548:case 65564:case 65551:case 65550:return 24;case 65545:case 65544:case 65565:case 65547:case 65546:case 65556:case 65557:case 65570:case 65569:return 32;case 65558:case 65559:case 65568:case 65567:return 64;default:return 0}}(e)}}a.d(t,{MZ:()=>r,uU:()=>i})},21279:(e,t,a)=>{a.d(t,{A:()=>s});var i=a(19371),r=a(4068);class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1048576,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;if((0,i.A)(this,"data",void 0),(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"pos",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"littleEndian",void 0),(0,i.A)(this,"error",void 0),(0,i.A)(this,"onFlush",void 0),(0,i.A)(this,"onSeek",void 0),this.pointer=0,this.pos=BigInt(0),this.size=e,this.littleEndian=!t,this.error=0,a&&a.view)this.size=a.length,this.buffer=a,this.data=a.view;else if(a&&!a.byteOffset)this.size=a.length,this.buffer=a,this.data=new DataView(this.buffer.buffer);else{if(a)throw new Error("not support subarray of ArrayBuffer");this.buffer=new Uint8Array(this.size),this.data=new DataView(this.buffer.buffer)}}writeUint8(e){this.remainingLength()<1&&this.flush(),this.data.setUint8(this.pointer,e),this.pointer++,this.pos++}writeUint16(e){this.remainingLength()<2&&this.flush(),this.data.setUint16(this.pointer,e,this.littleEndian),this.pointer+=2,this.pos+=BigInt(2)}writeUint24(e){this.remainingLength()<3&&this.flush();const t=(16711680&e)>>16,a=(65280&e)>>8,i=255&e;this.littleEndian?(this.writeUint8(i),this.writeUint8(a),this.writeUint8(t)):(this.writeUint8(t),this.writeUint8(a),this.writeUint8(i))}writeUint32(e){this.remainingLength()<4&&this.flush(),this.data.setUint32(this.pointer,e,this.littleEndian),this.pointer+=4,this.pos+=BigInt(4)}writeUint64(e){this.remainingLength()<8&&this.flush(),this.data.setBigUint64(this.pointer,e,this.littleEndian),this.pointer+=8,this.pos+=BigInt(8)}writeInt8(e){this.remainingLength()<1&&this.flush(),this.data.setInt8(this.pointer,e),this.pointer++,this.pos++}writeInt16(e){this.remainingLength()<2&&this.flush(),this.data.setInt16(this.pointer,e,this.littleEndian),this.pointer+=2,this.pos+=BigInt(2)}writeInt24(e){this.writeUint24(e<0?e+16777216:e)}writeInt32(e){this.remainingLength()<4&&this.flush(),this.data.setInt32(this.pointer,e,this.littleEndian),this.pointer+=4,this.pos+=BigInt(4)}writeInt64(e){this.remainingLength()<8&&this.flush(),this.data.setBigInt64(this.pointer,e,this.littleEndian),this.pointer+=8,this.pos+=BigInt(8)}writeFloat(e){this.remainingLength()<4&&this.flush(),this.data.setFloat32(this.pointer,e,this.littleEndian),this.pointer+=4,this.pos+=BigInt(4)}writeDouble(e){this.remainingLength()<8&&this.flush(),this.data.setFloat64(this.pointer,e,this.littleEndian),this.pointer+=8,this.pos+=BigInt(8)}getPointer(){return this.pointer}getPos(){return this.pos}remainingLength(){return this.size-this.pointer}writeBuffer(e){if(!e.length)return;let t=e.length;if(this.remainingLength()<t){let a=0;for(;t>0;){this.flush();const i=Math.min(this.size,t);this.buffer.set(e.subarray(a,a+i),this.pointer),this.pointer+=i,this.pos+=BigInt(i),a+=i,t-=i}}else this.buffer.set(e,this.pointer),this.pointer+=t,this.pos+=BigInt(t)}writeString(e){const t=r.encode(e);return this.writeBuffer(t),t.length}flush(){if(!this.onFlush)throw this.error=-1048574,Error("IOWriter error, flush failed because of no flush callback");if(this.pointer){const e=this.onFlush(this.buffer.subarray(0,this.pointer));if(0!==e)throw this.error=e,Error("IOWriter error, flush failed")}this.pointer=0}flushToPos(e){if(!this.onFlush)throw this.error=-1048574,Error("IOWriter error, flush failed because of no flush callback");if(this.pointer){const t=this.onFlush(this.buffer.subarray(0,this.pointer),e);if(0!==t)throw this.error=t,Error("IOWriter error, flush failed")}this.pointer=0}seek(e){if(!this.onSeek)throw this.error=-1048574,Error("IOWriter error, seek failed because of no seek callback");this.flush();const t=this.onSeek(e);if(0!==t)throw this.error=t,Error("IOWriter error, seek failed");this.pos=e}seekInline(e){const t=this.pointer;this.pointer=Math.max(0,Math.min(this.size,e)),this.pos+=BigInt(this.pointer-t)}skip(e){const t=this.pointer;this.pointer=Math.min(this.size,this.pointer+e),this.pos+=BigInt(this.pointer-t)}back(e){const t=this.pointer;this.pointer=Math.max(0,this.pointer-e),this.pos+=BigInt(this.pointer-t)}getBuffer(){return this.buffer.subarray(0,this.pointer)}setEndian(e){this.littleEndian=!e}reset(){this.pointer=0,this.pos=BigInt(0),this.error=0}getBufferSize(){return this.size}}}}]);