"use strict";(self.webpackChunkAVPlayer=self.webpackChunkAVPlayer||[]).push([[965],{6072:(a,e,c)=>{c.d(e,{A:()=>r});var t=c(19371);class r{constructor(){(0,t.A)(this,"type",-1),(0,t.A)(this,"onStreamAdd",void 0)}async destroy(a){}}},27758:(a,e,c)=>{c.d(e,{LV:()=>D,ML:()=>C,nF:()=>w,yr:()=>V});var t=c(75354),r=c(42524),A=c(77389),s=c(62667),d=c(41863),i=c(87339),n=c(74933),o=c(21962),p=c(47378),M=c(31184),u=c(43776);const f="packages/avformat/src/formats/riff/iriff.ts";function l(a,e){let c=s.gi[a];return c?(65541===c?c=n.uU(e,!1,!1,-2):65557===c&&(c=n.uU(e,!0,!1,0)),69633===c&&8===e&&(c=69676),c):0}async function V(a,e,c){if(c<14)return i.z3("wav format size < 14",f,51),p.LR;A.M[15](e,1);const t=await a.readUint16();let s=await a.readUint16();const n=await a.readUint32();let o=8*await a.readUint32();const V=await a.readUint16();if(A.M[15](e+136,n),A.M[15](e+140,V),14===c?A.M[15](e+40,8):A.M[15](e+40,await a.readUint16()),65534===t?A.M[8](e+8,0):(A.M[8](e+8,t),A.M[15](e+4,l(t,r.f[15](e+40)))),c>=18&&357!==t){let s=await a.readUint16();c-=18,s=Math.min(c,s),s>=22&&65534===t&&(await a.skip(22),s-=22,c-=22),s>0&&(A.M[20](e+12,(0,M.sY)(s)),A.M[15](e+16,s),await a.readBuffer(s,(0,d.JW)(r.f[20](e+12),s)),c-=s),c>0&&await a.skip(c)}else if(357===t&&c>=32){c-=4,A.M[20](e+12,(0,M.sY)(c)),A.M[15](e+16,c),await a.readBuffer(c,(0,d.JW)(r.f[20](e+12),c));const t=u.E3(r.f[20](e+12)+4);if(A.M[15](e+136,u.Y0(r.f[20](e+12)+12)),s=0,o=0,c<8+20*t)return p.LR;for(let a=0;a<t;a++)s+=r.f[2](r.f[20](e+12)+(8+20*a+17))}return A.M[17](e+32,BigInt(o)),r.f[15](e+136)<0?(i.z3(`Invalid sample rate: ${r.f[15](e+136)}`,f,131),p.LR):(86065===r.f[15](e+4)&&(s=0,A.M[15](e+136,0)),69643==r.f[15](e+4)&&r.f[15](e+136)&&A.M[15](e+40,Number(BigInt.asIntN(32,r.f[17](e+32)))/r.f[15](e+136)),s!=r.f[15](e+116)&&(A.M[15](e+112,0),A.M[15](e+116,s)),0)}async function D(a,e,c){const t=a.getPos()+e;for(;a.getPos()<t;){const e=await a.readString(4),t=await a.readUint32(),r=await a.readString(t);c[e]=r,t%2&&await a.skip(1)}}async function w(a,e){const c=await a.readUint32();return e.codecpar.width=await a.readUint32(),e.codecpar.height=await a.readUint32(),await a.skip(2),e.codecpar.bitsPerCodedSample=await a.readUint16(),e.codecpar.codecTag=await a.readUint32(),await a.skip(20),c}async function C(a,e,c){if(c<14)return i.z3("wav header size < 14",f,199),p.LR;let A,n,V;if(o.bl(e.codecpar[t.o9]+112),A=await a.readUint16(),(357!==A||a.isBigEndian())&&(n=await a.readUint16(),e.codecpar.sampleRate=await a.readUint32(),V=8*await a.readUint32(),e.codecpar.blockAlign=await a.readUint16()),e.codecpar.bitsPerCodedSample=14===c?8:await a.readUint16(),65534===A?e.codecpar.codecTag=0:(e.codecpar.codecTag=A,e.codecpar.codecId=l(A,e.codecpar.bitsPerCodedSample)),c>=18&&357!=A){let r=await a.readUint16();if(a.isBigEndian())return i.z3("WAVEFORMATEX support for RIFX files",f,231),p.LR;c-=18,r=Math.min(r,c),r>=22&&65534==A&&(await async function(a,e){const c=await a.readUint16();c&&(e.codecpar.bitsPerCodedSample=c);const r=await a.readUint32();o.ML(e.codecpar[t.o9]+112,BigInt(r));const A=(await a.readHex(16)).toLocaleUpperCase();var d;A.slice(4)===s.IC||A.slice(4)===s.mO||A.slice(4)===s.dd?(e.codecpar.codecTag=await a.readUint32(),e.codecpar.codecId=l(e.codecpar.codecTag,e.codecpar.bitsPerCodedSample)):(e.codecpar.codecId=(d=A,s.t6[d.toLocaleUpperCase()]||0),e.codecpar.codecId||i.R8(`unknown subformat: ${A}`,f,192))}(a,e),r-=22,c-=22),r>0&&(e.codecpar.extradata&&(0,M.Eb)(e.codecpar.extradata),e.codecpar.extradataSize=r,e.codecpar.extradata=(0,M.sY)(r),await a.readBuffer(r,(0,d.JW)(e.codecpar.extradata,r)),c-=r),c>0&&await a.skip(c)}else if(357==A&&c>=32){c-=4,e.codecpar.extradata&&(0,M.Eb)(e.codecpar.extradata),e.codecpar.extradataSize=c,e.codecpar.extradata=(0,M.sY)(c),await a.readBuffer(c,(0,d.JW)(e.codecpar.extradata,c));const t=u.E3(e.codecpar.extradata+4);if(e.codecpar.sampleRate=u.Y0(e.codecpar.extradata+12),c<8+20*t)return p.LR;for(let a=0;a<t;a++)n+=r.f[2](e.codecpar.extradata+(8+20*a+17))}return e.codecpar.bitrate=BigInt(0|V),e.codecpar.sampleRate<0?(i.z3(`Invalid sample rate ${e.codecpar.sampleRate}`,f,274),p.LR):(86065===e.codecpar.codecId&&(n=0,e.codecpar.sampleRate=0),69643===e.codecpar.codecId&&e.codecpar.sampleRate&&(e.codecpar.bitsPerCodedSample=Number(e.codecpar.bitrate)/e.codecpar.sampleRate),n!==e.codecpar.chLayout.nbChannels&&(o.bl(e.codecpar[t.o9]+112),e.codecpar.chLayout.order=0,e.codecpar.chLayout.nbChannels=n),0)}},62667:(a,e,c)=>{c.d(e,{IC:()=>d,dd:()=>s,gi:()=>r,mO:()=>i,nz:()=>A,t6:()=>n});var t=c(65283);const r={1:65541,2:69638,3:65557,6:65543,7:65542,10:86052,16:69664,17:69633,23:69664,32:69646,34:86037,49:86046,50:86046,56:73728,66:86068,69:69643,20:69643,64:69643,80:86016,85:86017,87:73728,88:73729,97:69635,98:69634,100:69643,105:69633,117:86079,131:86069,255:86018,273:86068,304:86057,309:86106,352:86023,353:86024,354:86053,355:86054,357:86095,358:86096,384:86116,512:69644,533:86022,534:86022,624:86047,654:86111,655:69660,848:86114,1025:86043,1026:86074,1280:86081,1281:86081,5376:86046,5377:86037,5632:86018,5634:86065,8192:86019,8193:86020,8264:86085,8738:86069,27765:65542,28781:86018,16707:86018,16768:86116,22858:81922,29338:86069,33152:86116,41216:86068,41222:86018,41225:86051,61868:86028,65534:86112,21318:69645,22127:86021},A={[(0,t.A)("H261")]:3,[(0,t.A)("H263")]:4,[(0,t.A)("X263")]:4,[(0,t.A)("T263")]:4,[(0,t.A)("L263")]:4,[(0,t.A)("VX1K")]:4,[(0,t.A)("ZyGo")]:4,[(0,t.A)("M263")]:4,[(0,t.A)("lsvm")]:4,[(0,t.A)("I263")]:20,[(0,t.A)("U263")]:4,[(0,t.A)("VSM4")]:4,[(0,t.A)("H264")]:27,[(0,t.A)("h264")]:27,[(0,t.A)("X264")]:27,[(0,t.A)("x264")]:27,[(0,t.A)("avc1")]:27,[(0,t.A)("DAVC")]:27,[(0,t.A)("SMV2")]:27,[(0,t.A)("VSSH")]:27,[(0,t.A)("Q264")]:27,[(0,t.A)("V264")]:27,[(0,t.A)("GAVC")]:27,[(0,t.A)("UMSV")]:27,[(0,t.A)("tshd")]:27,[(0,t.A)("INMC")]:27,[(0,t.A)("FMP4")]:12,[(0,t.A)("DIVX")]:12,[(0,t.A)("DX50")]:12,[(0,t.A)("XVID")]:12,[(0,t.A)("MP4S")]:12,[(0,t.A)("M4S2")]:12,[(0,t.A)("DIVX")]:12,4:12,[(0,t.A)("ZMP4")]:12,[(0,t.A)("DIV1")]:12,[(0,t.A)("BLZ0")]:12,[(0,t.A)("mp4v")]:12,[(0,t.A)("UMP4")]:12,[(0,t.A)("WV1F")]:12,[(0,t.A)("SEDG")]:12,[(0,t.A)("RMP4")]:12,[(0,t.A)("3IV2")]:12,[(0,t.A)("WAWV")]:12,[(0,t.A)("FFDS")]:12,[(0,t.A)("FVFW")]:12,[(0,t.A)("DCOD")]:12,[(0,t.A)("MVXM")]:12,[(0,t.A)("PM4V")]:12,[(0,t.A)("SMP4")]:12,[(0,t.A)("DXGM")]:12,[(0,t.A)("VIDM")]:12,[(0,t.A)("M4T3")]:12,[(0,t.A)("GEOX")]:12,[(0,t.A)("G264")]:12,[(0,t.A)("HDX4")]:12,[(0,t.A)("DM4V")]:12,[(0,t.A)("DMK2")]:12,[(0,t.A)("DYM4")]:12,[(0,t.A)("DIGI")]:12,[(0,t.A)("EPHV")]:12,[(0,t.A)("EM4A")]:12,[(0,t.A)("M4CC")]:12,[(0,t.A)("SN40")]:12,[(0,t.A)("VSPX")]:12,[(0,t.A)("ULDX")]:12,[(0,t.A)("GEOV")]:12,[(0,t.A)("SIPP")]:12,[(0,t.A)("SM4V")]:12,[(0,t.A)("XVIX")]:12,[(0,t.A)("DreX")]:12,[(0,t.A)("QMP4")]:12,[(0,t.A)("PLV1")]:12,[(0,t.A)("GLV4")]:12,[(0,t.A)("GMP4")]:12,[(0,t.A)("MNM4")]:12,[(0,t.A)("GTM4")]:12,[(0,t.A)("MPG4")]:14,[(0,t.A)("MP41")]:14,[(0,t.A)("MP42")]:15,[(0,t.A)("DIV2")]:15,[(0,t.A)("MP43")]:16,[(0,t.A)("DIV3")]:16,[(0,t.A)("MPG3")]:16,[(0,t.A)("DIV5")]:16,[(0,t.A)("DIV6")]:16,[(0,t.A)("DIV4")]:16,[(0,t.A)("DVX3")]:16,[(0,t.A)("AP41")]:16,[(0,t.A)("COL1")]:16,[(0,t.A)("COL0")]:16,[(0,t.A)("WMV1")]:17,[(0,t.A)("WMV2")]:18,[(0,t.A)("GXVE")]:18,[(0,t.A)("dvsd")]:24,[(0,t.A)("dvhd")]:24,[(0,t.A)("dvh1")]:24,[(0,t.A)("dvsl")]:24,[(0,t.A)("dv25")]:24,[(0,t.A)("dv50")]:24,[(0,t.A)("cdvc")]:24,[(0,t.A)("CDVH")]:24,[(0,t.A)("CDV5")]:24,[(0,t.A)("dvc ")]:24,[(0,t.A)("dvcs")]:24,[(0,t.A)("dvh1")]:24,[(0,t.A)("dvis")]:24,[(0,t.A)("pdvc")]:24,[(0,t.A)("SL25")]:24,[(0,t.A)("SLDV")]:24,[(0,t.A)("AVd1")]:24,[(0,t.A)("mpg1")]:2,[(0,t.A)("mpg2")]:2,[(0,t.A)("MPEG")]:2,[(0,t.A)("PIM1")]:2,[(0,t.A)("PIM2")]:2,[(0,t.A)("VCR2")]:2,268435457:2,268435458:2,268435460:2,[(0,t.A)("DVR ")]:2,[(0,t.A)("MMES")]:2,[(0,t.A)("LMP2")]:2,[(0,t.A)("slif")]:2,[(0,t.A)("EM2V")]:2,[(0,t.A)("M701")]:2,[(0,t.A)("M702")]:2,[(0,t.A)("M703")]:2,[(0,t.A)("M704")]:2,[(0,t.A)("M705")]:2,[(0,t.A)("mpgv")]:2,[(0,t.A)("BW10")]:2,[(0,t.A)("XMPG")]:2,[(0,t.A)("MJPG")]:7,[(0,t.A)("RV40")]:69,[(0,t.A)("AV01")]:225,[(0,t.A)("VP80")]:139,[(0,t.A)("VP90")]:167,[(0,t.A)("HEVC")]:173,[(0,t.A)("H265")]:173},s="00001000800000AA00389B71",d="2107D3118644C8C1CA000000",i="0000000000001000800000AA",n={"2C806DE046DBCF11B4D100805F6CBBEA":86019,BFAA23E958CB7144A119FFFA01E4CE62:86055,D242E147BA368D4D88FC61654F8C836C:86104,AF87FBA7022DFB42A4D405CD93843BDD:86056,"2B806DE046DBCF11B4D100805F6CBBEA":86016,"82EC1F6ACADB1945BDE756D3B3EF981D":69673,"3AC1FA38811D4361A40DCE53CA607CD1":86112}},65283:(a,e,c)=>{c.d(e,{A:()=>A});var t=c(87339);const r="packages/avformat/src/function/mktagle.ts";function A(a){4!==a.length&&t.R8(`tag length is not 4, tag: ${a}`,r,30);let e=0;for(let c=3;c>=0;c--)e=e<<8|a.charCodeAt(c);return e}},74933:(a,e,c)=>{function t(a,e,c,t){if(a<=0||a>64)return 0;if(e)switch(a){case 32:return c?65556:65557;case 64:return c?65558:65559;default:return 0}else if(a+=7,t&1<<(a>>>=3)-1)switch(a){case 1:return 65540;case 2:return c?65537:65536;case 3:return c?65549:65548;case 4:return c?65545:65544;case 8:return c?65568:65567;default:return 0}else switch(a){case 1:return 65541;case 2:return c?65539:65538;case 3:return c?65551:65550;case 4:return c?65547:65546;default:return 0}}function r(a){switch(a){case 69649:return 2;case 69648:return 3;case 69647:case 69633:case 69632:case 69645:case 69638:return 4;default:return function(a){switch(a){case 86070:case 86071:case 69674:case 69644:case 69678:case 69651:case 69661:case 69677:case 69655:case 69664:case 69636:case 69675:case 69660:case 69646:case 69670:return 4;case 86089:case 86090:case 86091:case 86092:case 65543:case 65542:case 65571:case 65540:case 65563:case 65572:case 65541:case 81924:case 81926:return 8;case 65537:case 65566:case 65536:case 65554:case 65539:case 65538:return 16;case 65552:case 65549:case 65548:case 65564:case 65551:case 65550:return 24;case 65545:case 65544:case 65565:case 65547:case 65546:case 65556:case 65557:case 65570:case 65569:return 32;case 65558:case 65559:case 65568:case 65567:return 64;default:return 0}}(a)}}c.d(e,{MZ:()=>r,uU:()=>t})}}]);